\section{字符串哈希}

\begin{minted}{c++}
const basePrime = 2333;

// 利用 unsigned long long 自然溢出，统计的时候要用 Trie 或者 sort, unique 等
unsigned long long overflow_hash(char *s, int len) {
    unsigned long long hash = 0;
    for (int i = 0; i <len; i++)
        hash = hash * basePrime + s[i];
    return hash;
}

// 模两个质数的双哈希，建议取一些比较不常见的质数，比如 122420729,163227661,217636919, 1222827239, 998244353 等
pair<int, int> double_hash(char *s, int len, int mod1, int mod2) {
    int hash1 = 0, hash2 = 0;
    for (int i = 0; i < len; i++)
        hash1 = (1LL * hash * basePrime + s[i]) % mod1,
        hash2 = (1LL * hash * basePrime + s[i]) % mod2;
    return make_pair(hash1, hash2);
}
\end{minted}
